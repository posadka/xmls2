# -*- coding: utf-8 -*-

import re, json, base64, requests, time, random, math, xbmcgui
try:
    from urllib import urlencode, quote_plus, urlparse, urljoin
except ImportError:
    from urllib.parse import urlencode, quote_plus, urlparse, urljoin

from resources.lib.modules import control
from resources.lib.modules import client
from resources.lib.modules import site
from resources.lib.modules import workers
from resources.lib.modules import jsunpack
from resources.lib.modules import hunter

class streamer:
    def dodgycodes(s):
        return re.sub('&#(\d+);', '', s)

    def resolve(self, url):
        try:
            if 'epicmartial' in url: u = self.epicmartial(url)
            elif 'castweb' in url: u = self.epicmartial(url)
            elif 'elixx.xyz' in url: u = self.elixx(url)
            elif 'eddensports.com' in url: u = self.solaris(url)
            elif 'redsoccer.info' in url: u = self.solaris(url)
            elif 'worldstreams.net' in url: u = self.worldstreams(url)
            elif 'mazymedias.com' in url: u = self.mazy(url)
            elif 'mazystreams.xyz' in url: u = self.mazy(url)
            elif 'nflup.live' in url: u = self.nflup(url)
            elif 'papahd' in url: u = self.papahd(url)
            elif 'bfst.xyz' in url: u = self.beast(url)
            elif 'fightpass.site' in url: u = self.fightpass(url)
            elif 'allsportsmedia.live' in url: u = self.fightpass(url)
            elif 'nbaweb.site' in url: u = self.helena(url)
            elif 'nbaweb.xyz' in url: u = self.skuanet(url)
            elif 'thecyclingentertainment.com' in url: u = self.markky(url)
            elif 'successstudios.co' in url: u = self.markky(url)
            elif 'sportsnest.co' in url: u = self.sportsnest(url)
            elif 'dofusports' in url: u = self.sportsnest(url)
            elif 'bestreamsports.org' in url: u = self.sportsnest(url)
            elif 'sportsbuzz.co' in url: u = self.markky(url)
            elif 'givemevibes.com' in url: u = self.markky(url)
            elif 'techtricksng.com' in url: u = self.markky(url)
            elif 'telechargementfilmhd.com' in url: u = self.nbahdreplay(url)
            elif 'volokit' in url: u = self.volokit(url)
            elif 'playoffsstream' in url: u = self.playoffnfl(url)
            elif '720pstream' in url: u = self.seventwenty(url)
            elif 'watchkobestreams' in url: u = self.watchkobestreams(url)
            elif 'crackstreams' in url: u = self.crackstreams(url)
            elif 'hesgoal' in url: u = self.hesgoal(url)
            elif 'givemereddit' in url: u = self.givemereddit(url)
            elif 'givemenflstreams' in url: u = self.givemereddit(url)
            elif 'givemenbastreams' in url: u = self.givemereddit(url)
            elif 'givememmastreams' in url: u = self.givemereddit(url)
            elif 'givemeredditstreams' in url: u = self.givemereddit(url)
            elif 'tezgoal.com' in url: u = self.hdstreams(url)
            elif 'freehdgames' in url: u = self.hdstreams(url)
            elif 'hhdstreams.club' in url: u = self.hdstreams(url)
            elif 'hdstreamss.club' in url: u = self.hdstreams(url)
            elif 'uhdstreams.club' in url: u = self.hdstreams(url)
            elif 'uhdgames.xyz' in url: u = self.hdstreams(url)
            elif 'gameshdlive' in url: u = self.solaris(url)
            elif 'gamehdlive' in url: u = self.solaris(url)
            elif 'nflsportz.com' in url: u = self.nflsportz(url)
            elif 'streameast' in url: u = self.streameast(url)
            elif 'istreameast' in url: u = self.streameast(url)
            elif 'ertech.work' in url: u = self.skuanet(url)
            elif 'chimxoan.net' in url: u = self.skuanet(url)
            elif 'skuanet' in url: u = self.skuanet(url)
            elif 'harumu.me/' in url: u = self.skuanet(url)
            elif 'viafb.site/' in url: u = self.skuanet(url)
            elif 'fnew.tech' in url: u = self.skuanet(url)
            elif 'psm.wtf' in url: u = self.skuanet(url)
            elif 'fabtech.work' in url: u = self.skuanet(url)
            elif 'ruapa.com/' in url: u = self.skuanet(url)
            elif 'gardener101.work' in url: u = self.skuanet(url)
            elif 'jmutech.xyz' in url: u = self.skuanet(url)
            elif 'aas.works' in url: u = self.skuanet(url)
            elif 'kimta' in url: u = self.skuanet(url)
            elif 'sagoad.com/' in url: u = self.skuanet(url)
            elif 'anhdepmoingay.com/' in url: u = self.skuanet(url)
            elif 'ustvgo.cc' in url: u = self.skuanet(url)
            elif 'hinhnenhd.info' in url: u = self.skuanet(url)
            elif 'bubofitness.com' in url: u = self.skuanet(url)
            elif 'midcoastplanning.org' in url: u = self.skuanet(url)
            elif 'fxmagicmusic' in url: u = self.skuanet(url)
            elif 'ftheanh.tech' in url: u = self.skuanet(url)
            elif 'azulitostreams.com' in url: u = self.skuanet(url)
            elif 'banknotewiki.com' in url: u = self.skuanet(url)
            elif 'crichd' in url: u = self.cric(url)
            elif 'telehub.org' in url: u = self.tubby(url)
            elif 'sportnews.to' in url: u = self.sportnews(url)
            elif 'mysports.to' in url: u = self.sportnews(url)
            elif 'footy.to' in url: u = self.sportnews(url)
            elif 'wpstream.tv' in url: u = self.weakspell(url)
            elif 'weakspell' in url: u = self.weakspell(url)
            elif 'weaksports.xyz' in url: u = self.hdstreams(url)
            elif 'liveonscore.tv' in url: u = self.weakspell(url)
            elif 'liveonscore.to' in url: u = self.weakspell(url)
            elif 'weakstreams' in url: u = self.weakspell(url)
            elif 'weakstream.org' in url: u = self.weakspell(url)
            elif 'ufckhabib.com' in url: u = self.ufckhabib(url)
            elif 'sportsurge.stream' in url: u = self.ufckhabib(url)
            elif 'ovostreams' in url: u = self.ovostreams(url)
            elif 'ovogoaal' in url: u = self.ovostreams(url)
            elif 'ovogoal' in url: u = self.ovostreams(url)
            elif 'ovo-gola' in url: u = self.ovostreams(url)
            elif 'sportschamp' in url: u = self.ovostreams(url)
            elif 'soccerstreams.football' in url: u = self.ovostreams(url)
            elif 'easy-sport.tv' in url: u = self.ovostreams(url)
            elif 'techoreels.com' in url: u = self.techno(url)
            elif 'techclips.net' in url: u = self.techno(url)
            elif 'torridplay.com' in url: u = self.skuanet(url)
            elif 'sportinglive.co' in url: u = self.skuanet(url)
            elif 'nflscoop' in url: u = self.sportsupa(url)
            elif 'pawastreams' in url: u = self.pawastreams(url)
            elif 'boltcast.info' in url: u = self.pawastreams(url)
            elif 'supertipz.com' in url: u = self.supertipz(url)
            elif 'dubsstreamz.com' in url: u = self.dubsstreamz(url)
            elif 'dubzstreams.com' in url: u = self.dubsstreamz(url)
            elif 'summerlivestream.com' in url: u = self.summerlivestream(url)
            elif 'streaming4u.org/' in url: u = self.summerlivestream(url)
            elif 'crazystreams.ga' in url: u = self.crazystreams(url)
            elif 'silverspoon.site' in url: u = self.silverspoon(url)
            elif 'sequencecard.xyz' in url: u = self.silverspoon(url)
            elif 'willsports' in url: u = self.silverspoon(url)
            elif 'sportsallday.net' in url: u = self.silverspoon(url)
            elif 'sportsupa' in url: u = self.sportsupa(url)
            elif 'hitstreams' in url: u = self.hitstreams(url)
            elif 'soccerstreams.football' in url: u = self.soccerstreams(url)
            elif 'f1livestream' in url: u = self.soccerstreams(url)
            elif 'basketball-video' in url: u = self.basketballvideo(url)
            elif 'nfl-video' in url: u = self.nflvideo(url)
            elif 'mysports.to' in url: u = self.sportnews(url)
            elif 'sports-stream.site' in url: u = self.sportsstreamsite(url)
            elif 'naughtyblog' in url: u = self.naughtyblog(url)
            elif 'fsportshd' in url: u = self.fsportshd(url)
            elif 'methstreams' in url: u = self.meth(url)
            elif 'roxiestreams' in url: u = self.roxie(url)
            else: u = self.generic(url)

            return u
        except:
            pass

    def generic(self, url):
        try:
            r = client.request(url)
            r = r.replace('\\', '')

            s = re.findall("[0-9_']+:\s\'([^']+)", r) + re.findall("\s*=\s*\"(http.+?)\"", r)
            s = [i for i in s if (urlparse(i).path).strip('/').split('/')[-1].split('.')[-1] in ['mp4', 'flv', 'm3u8']]

            if not s: s = re.findall("\(\w+\(\"([^\"]*)", r) + re.findall("\(\w+\(\'([^\']*)", r)
            s = [i for i in s if (urlparse(i).path).strip('/').split('/')[-1].split('.')[-1] in ['mp4', 'flv', 'm3u8']]
            
            if not s: s = re.findall('\"\w+\":"([^"]*)', r) + re.findall('\'\w+\':\'([^\']*)', r)
            s = [i for i in s if (urlparse(i).path).strip('/').split('/')[-1].split('.')[-1] in ['mp4', 'flv', 'm3u8']]

            if not s: s = re.findall('\s*=\s*\'(http.+?)\'', r) + re.findall('\s*=\s*\"(http.+?)\"', r)
            s = [i for i in s if (urlparse(i).path).strip('/').split('/')[-1].split('.')[-1] in ['mp4', 'flv', 'm3u8']]

            if not s: s = re.findall('\s*:\s*\"(http.+?)\"', r) + re.findall('\s*:\s*\'(http.+?)\'', r)
            s = [i for i in s if (urlparse(i).path).strip('/').split('/')[-1].split('.')[-1] in ['mp4', 'flv', 'm3u8']]

            if not s: s = re.findall('\s*\(\s*\"(http.+?)\"', r) + re.findall('\s*\(\s*\'(http.+?)\'', r)
            s = [i for i in s if (urlparse(i).path).strip('/').split('/')[-1].split('.')[-1] in ['mp4', 'flv', 'm3u8']]

            if not s:s = re.findall('\s*:\s*\"(//.+?)\"', r) + re.findall('\s*:\s*\'(//.+?)\'', r)
            s = [i for i in s if (urlparse(i).path).strip('/').split('/')[-1].split('.')[-1] in ['mp4', 'flv', 'm3u8']]

            if not s:s = re.findall('\:\"(\.+?)\"', r) + re.findall('\:\'(\.+?)\'', r)
            s = [i for i in s if (urlparse(i).path).strip('/').split('/')[-1].split('.')[-1] in ['mp4', 'flv', 'm3u8']]

            if not s: s = re.findall('\s*\(\s*\"(//.+?)\"', r) + re.findall('\s*\(\s*\'(//.+?)\'', r)
            s = [i for i in s if (urlparse(i).path).strip('/').split('/')[-1].split('.')[-1] in ['mp4', 'flv', 'm3u8']]

            if not s: s = re.findall('\s*=\s*\'(//.+?)\'', r) + re.findall('\s*=\s*\"(//.+?)\"', r)
            s = [i for i in s if (urlparse(i).path).strip('/').split('/')[-1].split('.')[-1] in ['mp4', 'flv', 'm3u8']]

            if not s: s = re.findall('\w*:\s*\"(http.+?)\"', r) + re.findall('\w*:\s*\'(http.+?)\'', r)
            s = [i for i in s if (urlparse(i).path).strip('/').split('/')[-1].split('.')[-1] in ['mp4', 'flv', 'm3u8']]
            
            if not s: s = re.findall('\w*=\'([^\']*)', r) + re.findall('\w*=\"([^\"]*)', r)
            s = [i for i in s if (urlparse(i).path).strip('/').split('/')[-1].split('.')[-1] in ['mp4', 'flv', 'm3u8']]
            
            if not s: s = re.findall('\w*\s*=\s*\'([^\']*)', r) + re.findall('\w*\s*=\s*\"([^\"]*)', r)
            s = [i for i in s if (urlparse(i).path).strip('/').split('/')[-1].split('.')[-1] in ['mp4', 'flv', 'm3u8']]
            
            if not s: s = re.findall('(?s)<file>([^<]*)', r)
            s = [i for i in s if (urlparse(i).path).strip('/').split('/')[-1].split('.')[-1] in ['mp4', 'flv', 'm3u8']]

            if not s: s = client.parseDOM(r, 'source', ret='src', attrs = {'type': 'video.+?'})
            s = ['http:' + i if i.startswith('//') else i for i in s]
            s = [urljoin(url, i) if not i.startswith('http') else i for i in s]
            s = [x for y,x in enumerate(s) if x not in s[:y]]

            self.u = []
            def request(i):
                try:
                    i = i.replace(' ','%20')
                    c = client.request(i, output='headers')
                    checks = ['video','mpegurl','html','octet-stream']
                    if any(f for f in checks if f in c['Content-Type']): self.u.append((i, int(c['Content-Length'])))
                except:
                    pass
            threads = []
            for i in s: threads.append(workers.Thread(request, i))
            [i.start() for i in threads] ; [i.join() for i in threads]
            u = sorted(self.u, key=lambda x: x[1])[::-1]
            u = client.request(u[0][0], output='geturl', Referer=url)
            return u
        except:
            pass

    def weakspell(self, url):
        try:
            if not control.infoLabel('Container.PluginName') == 'plugin.video.thecrew': return
            page_data = client.request(url)
            s = re.findall('(?s)iframe frameborder.*?src="([^"]*)', page_data)[0]
            p = client.request(s)
            w = re.findall('url:\s*"([^"]*)', p)[0]
            h = re.findall('data:\s\{\s*"([^"]*)', p)[0]
            i = re.findall('var vidgstream = "([^"]*)', p)[0]
            t = re.findall('gethlsUrl\(vidgstream,\s([^,]*)', p)[0]
            e = re.findall('gethlsUrl\(vidgstream,(?:[^,]*),\s([^\)]*)', p)[0]
            hat = w + '?' + h + '=' + i + '&serverid=' + t + '&cid=' + e
            the = client.request(hat)
            crew = re.findall('{"rawUrl":"([^"]*)', the)[0]
            made = crew.replace('\\', '')
            return made + '?&connection=keepalive' + '|User-Agent=Mozilla%2F5.0%20(Macintosh%3B%20Intel%20Mac%20OS%20X%2010.15%3B%20rv%3A131.0)%20Gecko%2F20100101%20Firefox%2F131.0&Referer=https%3A%2F%2Fmethstreams.to%2F'
        except:
            return

    def crackstreams(self, url):
        try:
            if not control.infoLabel('Container.PluginName') == 'plugin.video.thecrew': return
            page_data = client.request(url, headers={"Referer": url, "User-Agent": 'Mozilla/5.0'})
            h = re.findall('(?s)<iframe.*?src="([^"]*)', page_data)[0]
            if 'givemereddit' in h:
                gr = requests.get(h).text
                i = re.compile(r'decodeURIComponent\(escape\(r\)\)}\("([^"]*)",([^,]*),"([^"]*)",([^,]*),([^,]*),([^\)]*)').findall(gr)[0]
                t = hunter.hunter(i[0], int(i[1]), i[2], int(i[3]), int(i[4]), int(i[5]))
                e = re.findall('source:\s*\'([^\']*)',t)[0]
                e = e.replace('\\','')
                return e + '|Referer=https://givemereddit.link/&Origin=https://givemereddit.link&User-Agent=Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36&Accept=application/x-mpegURL,*/*'
            else:
                x = client.request(h)
                w = re.findall('(?s)atob\(\'([^\']*)', x)[0]; w = base64.b64decode(w).decode('utf-8')   
                u = re.findall('initURL\s*=\s*"([^"]*)', w)[0]
                return u + '|User-Agent=Mozilla%2F5.0%20(Macintosh%3B%20Intel%20Mac%20OS%20X%2010.15%3B%20rv%3A131.0)%20Gecko%2F20100101%20Firefox%2F131.0&Referer=' + h
        except:
            return

    def hesgoal(self, url):
        try:
            if not control.infoLabel('Container.PluginName') == 'plugin.video.thecrew': return
            page_data = client.request(url)
            t = re.findall('(?s)<iframe(?:.*?src)="([^"]*)', page_data)[0]
            u = requests.get(t).text
            x = re.findall('(?:source|src|file):\s*[\'"]([^\'"]+)', u)[0]
            return x + '|User-Agent=Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.132 Safari/537.36&Referer=https://fordems.biz/'
        except:
            return

    def givemereddit(self, url):
        try:
            if not control.infoLabel('Container.PluginName') == 'plugin.video.thecrew': return
            u = requests.get(url).text
            w = re.findall('(?s)iframe class="embed-responsive-item" src="([^"]*)', u)[0]
            h = requests.get(w, headers={"Referer": w, "User-Agent": 'Mozilla/5.0'}).text
            i = re.compile(r'decodeURIComponent\(escape\(r\)\)}\("([^"]*)",([^,]*),"([^"]*)",([^,]*),([^,]*),([^\)]*)').findall(h)[0]
            t = hunter.hunter(i[0], int(i[1]), i[2], int(i[3]), int(i[4]), int(i[5]))
            e = re.findall('source:\s*\'([^\']*)',t)[0]
            e = e.replace('\\','')
            return e + '||Referer=https://givemereddit.link/&Origin=https://givemereddit.link&User-Agent=Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36&Accept=application/x-mpegURL,*/*'
        except:
            return

    def streameast(self, url):
        try:
            if control.infoLabel('Container.PluginName') != 'plugin.video.thecrew': return
            UA = 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36'
            page_data = client.request(url)
            m = re.search(r'(?is)<iframe[^>]+src="([^"]+)', page_data)
            if not m:
                return
            iframe_url = m.group(1)
            headers = {
                'User-Agent': UA,
                'Referer': url
            }
            iframe_html = requests.get(iframe_url, headers=headers, timeout=10).text
            m = re.search(r"atob\('([^']+)", iframe_html)
            if not m:
                return
            encoded = m.group(1)
            try:
                decoded = base64.b64decode(encoded).decode('utf-8', 'ignore')
            except Exception:
                return
            referer = 'https://gooz.aapmains.net/'
            origin = 'https://gooz.aapmains.net'
            return (
                f"{decoded}"
                f"|User-Agent={UA}"
                f"&Referer={referer}"
                f"&Origin={origin}"
            )
        except Exception:
            return

    def skuanet(self, url):
        try:
            if not control.infoLabel('Container.PluginName') == 'plugin.video.thecrew': return
            page_data = client.request(url)
            r = re.findall('<source src="([^"]*)', page_data)[0]
            return r + '?&connection=keepalive' + '|User-Agent=Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:107.0) Gecko/20100101 Firefox/107.0&Referer=' + url
        except:
            return

    def hdstreams(self, url):
        try:
            if not control.infoLabel('Container.PluginName') == 'plugin.video.thecrew': return
            page_data = client.request(url)
            r = re.findall('<iframe f.*?(?:source|src|file)=\s*[\'"]([^\'"]+)', page_data)[0]
            u = client.request(r)
            x = re.findall('(?:source|src|file):\s*[\'"]([^\'"]+)', u)[0]
            return x + '|User-Agent=iPad&Referer=' + r
        except:
            return

    def playoffnhl(self, url):
        try:
            if not control.infoLabel('Container.PluginName') == 'plugin.video.thecrew': return
            page_data = client.request(url)
            #token = client.request('http://continuum.watch/Crew/nhl.txt')
            #nhl_auth = "|Cookie=Authorization=" + token
            nhl_auth = "|Cookie=Authorization=" + 'eyJhbGciOiJIUzI1NiJ9.eyJpcGlkIjoibmhsR2F0ZXdheUlkOjY3NzM0NTYiLCJjbGllbnRJZCI6ImFjdGl2YXRpb25fbmhsLXYxLjAuMCIsInBjX21heF9yYXRpbmdfbW92aWUiOiIiLCJjb250ZXh0Ijp7fSwidmVyaWZpY2F0aW9uTGV2ZWwiOjIsImV4cCI6MTY3MzgwOTkxMywidHlwZSI6IlVzZXIiLCJpYXQiOjE2NDIyNzM5MTMsInVzZXJpZCI6ImY0NDcwNTAyLTJkYWEtNDgzMS1iOWVhLTgyZTY0NDFmNTkzOS0zMTctYmQ2MGJjZjI2YTQ4MTQ4YjFkODljNmVlZTUyYTNiOWM5MjllYzc3YiIsInZlcnNpb24iOiJ2MS4wIiwicGNfbWF4X3JhdGluZ190diI6IiIsImVtYWlsIjoiYmc2NjE1QGdtYWlsLmNvbSJ9.ameiawUY4YxQLGF0e9-kLlsug8czcjAdiahGr3HwwvM;mediaAuth_v2=6455209108eaa22507b1b305ff7466270d11c4e1da95b073ba26d541692f17953320772ffa0eba4a000575f2095c9e94fc3511dd9de884109f1bf8cfec7db5a90f25f525537e58c0ce68b4587f94c28ed01bab51ec0d355a0f0e95595434fd39b0cbadd368136229ae6956fc8020bd342f2a1fa6ceb7eded883b08c967a21391862ffb6ee48c0924a87b874c97e4d5e53cb37a67b62203dc916d2530a5c13c30ebf76b13b0e6996f06345bf6a88a97f29c493c5c7768311023d1e8c3cad5130ada0e56ee4e27df63f7c3e1104e87a13b1e4fba3d4d1e1130d27aba5cd34fdd812913520d8811972d05ec90e8b8b6343419cb74e063a3e05cef3272bc8d9c44c46cfb641a306ca78b4c677809171a36b9202630d72f01e502dfb1a5487d2ea586499a718679782a65e6a6800f77eea39fc6d3c544d512160eab8689984ae7084b23c6adbcda40c35bcc813ee744594de07fabae81c127628907e5412dabc14bf05a658aaa90000a78295a1f0f14e644073a757ab7f0092d95c2a5e37a65d8f18eea0f7690a6d3ba27b1a28e421cb51ae7a213c3e2ce6372b135d4059fd9372929fbd9243c93b28b8767a28480cbdc0c360706b508ea9b94de85fea1a410ecac6031bbe31220910200eb587c82fb2c0e6cb23af904a4080b4037e246c9ec1d9daaebacb17d684bc726;192051129147321142019199714547152015'
            r = re.findall('(?s)= "https:\/\/([^"]*)', page_data)[0]
            r = r.replace('hlslive','https://hlslive')
            return r + nhl_auth
        except:
            return
    
    def playoffnfl(self, url):
        try:
            if not control.infoLabel('Container.PluginName') == 'plugin.video.thecrew': return
            page_data = client.request(url)
            iframe_source_url = re.findall("embed-responsive-item\" src='([^']*)", page_data)[0]
            iframe_data = requests.get(iframe_source_url).text
            pdettxt = re.findall('pdettxt = "([^"]*)', iframe_data)[0]
            zmid = re.findall('zmid = "([^"]*)', iframe_data)[0]
            pid = re.findall("pid = ([0-9])", iframe_data)[0]
            edm = re.findall('edm = "([^"]*)', iframe_data)[0]
            embed_script_url = re.findall('<script\\W*async\\W*src="([^"]*)', iframe_data)[0]
            url="https://"+edm+"/sd0embed?v=" + zmid
            embed_source_data = requests.post(url, headers={"Origin": "https://embedstream.me", "Referer": "https://embedstream.me/", "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:107.0) Gecko/20100101 Firefox/107.0"}).text
            i = re.compile(r'decodeURIComponent\(escape.*\("(.+?)",(\d+),"(.+?)",(\d+),(\d+),(\d+)').findall(embed_source_data)[0]
            t = hunter.hunter(i[0], int(i[1]), i[2], int(i[3]), int(i[4]), int(i[5]))
            m3u8 = re.findall('const vdoUrl = \'([^\']*)',t)[0]
            m3u8 = base64.b64decode(m3u8).decode("UTF-8")
            unique_id = re.findall(r"const unqiueId = \'([^\']*)", t)[0]
            scode = re.findall(r'sCode = \'([^\']*)', t)[0]
            ts = re.findall(r'Ts = ([0-9]{10})', t)[0]
            # Unnessary call for now 
            key = 'https://key.seckeyserv.me/?stream=' + unique_id + '&scode=' + scode + '&expires=' + ts
            authUrl = {'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:107.0) Gecko/20100101 Firefox/107.0', 'Origin': 'https://www.nolive.me','Referer': 'https://www.nolive.me/sd0embed'}
            return m3u8 + '|{0}'.format(urlencode(authUrl))
        except:
            return

    def seventwenty(self, url):
        try:
            if not control.infoLabel('Container.PluginName') == 'plugin.video.thecrew': return
            page_data = client.request(url)
            iframe_source_url = re.findall('(?s)<iframe.*?rc="([^"]*)', page_data)[0]
            iframe_data = requests.get(iframe_source_url).text
            pdettxt = re.findall('pdettxt = "([^"]*)', iframe_data)[0]
            zmid = re.findall('zmid = "([^"]*)', iframe_data)[0]
            pid = re.findall("pid = ([0-9])", iframe_data)[0]
            edm = re.findall('edm = "([^"]*)', iframe_data)[0]
            embed_script_url = re.findall('<script\\W*async\\W*src="([^"]*)', iframe_data)[0]
            url="https://"+edm+"/sd0embed?v=" + zmid
            embed_source_data = requests.post(url, headers={"Origin": "https://embedstream.me", "Referer": "https://embedstream.me/", "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:107.0) Gecko/20100101 Firefox/107.0"}).text
            i = re.compile(r'decodeURIComponent\(escape.*\("(.+?)",(\d+),"(.+?)",(\d+),(\d+),(\d+)').findall(embed_source_data)[0]
            t = hunter.hunter(i[0], int(i[1]), i[2], int(i[3]), int(i[4]), int(i[5]))
            m3u8 = re.findall('const vdoUrl = \'([^\']*)',t)[0]
            m3u8 = base64.b64decode(m3u8).decode("UTF-8")
            unique_id = re.findall(r"const unqiueId = \'([^\']*)", t)[0]
            scode = re.findall(r'sCode = \'([^\']*)', t)[0]
            ts = re.findall(r'Ts = ([0-9]{10})', t)[0]
            # Unnessary call for now 
            #key = 'https://key.seckeyserv.me/?stream=' + unique_id + '&scode=' + scode + '&expires=' + ts
            authUrl = {'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:107.0) Gecko/20100101 Firefox/107.0', 'Origin': 'https://www.nolive.me','Referer': 'https://www.nolive.me/sd0embed'}
            return m3u8 + '|{0}'.format(urlencode(authUrl))
        except:
            return
                
    def watchkobestreams(self, url):
        try:
            if not control.infoLabel('Container.PluginName') == 'plugin.video.thecrew': return
            page_data = client.request(url,headers = { 'User-Agent': 'Mozilla/5.0 (Windows NT 6.0; WOW64; rv:24.0) Gecko/20100101 Firefox/24.0' })
            iframe_source_url = re.findall('(?s)<iframe.*?rc="([^"]*)', page_data)[0]
            embed_r = requests.get(iframe_source_url,headers = { 'User-Agent': 'Mozilla/5.0 (Windows NT 6.0; WOW64; rv:24.0) Gecko/20100101 Firefox/24.0' }).text
            embed_stream = re.findall('(?s)<iframe.*?rc="([^"]*)', embed_r)[0]
            iframe_data = requests.get(embed_stream).text
            pdettxt = re.findall('pdettxt = "([^"]*)', iframe_data)[0]
            zmid = re.findall('zmid = "([^"]*)', iframe_data)[0]
            pid = re.findall("pid = ([0-9])", iframe_data)[0]
            edm = re.findall('edm = "([^"]*)', iframe_data)[0]
            embed_script_url = re.findall('<script\\W*async\\W*src="([^"]*)', iframe_data)[0]
            url="https://"+edm+"/sd0embed?v=" + zmid
            embed_source_data = requests.post(url, headers={"Origin": "https://embedstream.me", "Referer": "https://embedstream.me/", "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:107.0) Gecko/20100101 Firefox/107.0"}).text
            i = re.compile(r'decodeURIComponent\(escape.*\("(.+?)",(\d+),"(.+?)",(\d+),(\d+),(\d+)').findall(embed_source_data)[0]
            t = hunter.hunter(i[0], int(i[1]), i[2], int(i[3]), int(i[4]), int(i[5]))
            m3u8 = re.findall('const vdoUrl = \'([^\']*)',t)[0]
            m3u8 = base64.b64decode(m3u8).decode("UTF-8")
            unique_id = re.findall(r"const unqiueId = \'([^\']*)", t)[0]
            scode = re.findall(r'sCode = \'([^\']*)', t)[0]
            ts = re.findall(r'Ts = ([0-9]{10})', t)[0]
            # Unnessary call for now 
            #key = 'https://key.seckeyserv.me/?stream=' + unique_id + '&scode=' + scode + '&expires=' + ts
            authUrl = {'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:107.0) Gecko/20100101 Firefox/107.0', 'Origin': 'https://www.nolive.me','Referer': 'https://www.nolive.me/sd0embed'}
            return m3u8 + '|{0}'.format(urlencode(authUrl))
        except:
            return

    def markky(self, url):
        try:
            if not control.infoLabel('Container.PluginName') == 'plugin.video.thecrew': return
            page_data = client.request(url)
            r = re.findall('(https?:\/\/[^\s]+\.m3u8)', page_data)[0]
            return r + '|User-Agent=iPad&Referer=' + url
        except:
            return

    def nbahdreplay(self, url):
        try:
            if not control.infoLabel('Container.PluginName') == 'plugin.video.thecrew': return
            page_data = client.request(url)
            r = re.findall('iframe(?:.*?src=")([^"]*)',page_data)[0]
            r = r.replace('//','https://')
            return r
        except:
            return
            
    def cric(self, url):
        try:
            if not control.infoLabel('Container.PluginName') == 'plugin.video.thecrew': return
            p = client.request(url)
            r0 = re.findall('(?s)<tr><td>(?:[^<]*)<\/td><td><a href="([^"]*)',p)[0]
            p1 = client.request(r0)
            r1 = re.findall('<iframe src="([^"]*)',p1)[0];r1 = r1.replace('//','http://')
            p2 = client.request(r1)
            r2 = re.findall('fid="([^"]*)',p2)[0];r3 = re.findall('v_width=([^\;]*)',p2)[0];r4 = re.findall('v_height=([^\;]*)',p2)[0]
            embed = 'http://www.freecast123.com/cricsp.php?player=desktop&live='+r2+'&vw='+r3+'&vh='+r4
            u = client.request(embed, headers={'User-Agent':'iPad','Referer':r1})
            u = u.replace('\/','/');u = u.replace('",','');u = u.replace('"','');u = u.replace('//','http://')
            r = re.findall('return\(\[([^\]]*)',u)[0]; x = re.findall('\[(hlsendtime.*?)\]',u)[0]; z = re.findall('>(ash.*?)<',u)[0]
            return r + x + z
        except:
            return

    def tubby(self, url):
        try:
            if not control.infoLabel('Container.PluginName') == 'plugin.video.thecrew': return
            u = client.request(url)
            r = re.findall('<iframe src="([^"]*)',u)[0]
            u2 = client.request(r)
            r2 = re.findall('videoLink = \'([^\']*)',u2)[0]
            return r2
        except:
            return

    def mazy(self, url):
        try:
            if not control.infoLabel('Container.PluginName') == 'plugin.video.thecrew': return
            page_data = client.request(url)
            i = re.findall('source = \'([^\']*)', page_data)[0]
            return i + '|Referer=' + url
        except:
            return

    def helena(self, url):
        try:
            if not control.infoLabel('Container.PluginName') == 'plugin.video.thecrew': return
            page_data = client.request(url)
            w = re.findall('source: "([^"]*)', page_data)[0]
            return w + '|Referer=' + url
        except:
            return

    def papahd(self, url):
        try:
            if not control.infoLabel('Container.PluginName') == 'plugin.video.thecrew': return
            page_data = client.request(url)
            r1 = re.findall('(?s)<iframe src="([^"]*)',page_data)[0]
            u2 = requests.get(r1).text
            fid = re.findall('fid="([^"]*)',u2)[0]
            r3 = re.findall('(?s)fid.*?src="([^"]*)',u2)[0]
            u3 = requests.get('https:' + r3).text
            embedded = re.findall('(?s)embedded .*?: "([^"]*)',u3)[0]
            link = re.findall('(?s).*?src="([^=]*)',u3)[0]
            final_link = link + '=' + embedded + '&live=' + fid
            return final_link + '|User-Agent=iPad&Referer=' + r1
        except:
            return

    def fightpass(self, url):
        try:
            if not control.infoLabel('Container.PluginName') == 'plugin.video.thecrew': return
            page_data = client.request(url)
            x = re.findall('(?:source|src|file):\s*[\'"]([^\'"]+)', page_data)[0]
            return x + '|User-Agent=Mozilla/5.0&Referer=' + url
        except:
            return

    def solaris(self, url):
        try:
            if not control.infoLabel('Container.PluginName') == 'plugin.video.thecrew': return
            page_data = client.request(url)
            r = re.findall('(?:source|src|file):\s*[\'"]([^\'"]+)', page_data)[0]
            return r + '|User-Agent=Mozilla/5.0&Referer=' + url
        except:
            return

    def sportnews(self, url):
        try:
            if not control.infoLabel('Container.PluginName') == 'plugin.video.thecrew': return
            page_data = client.request(url)
            l = re.findall('atob\(\'([^\']*)', page_data)[0]
            l = base64.b64decode(l).decode('utf-8')
            return l + '|User-Agent=Mozilla/5.0&Referer=' + url
        except:
            return

    def beast(self, url):
        try:
            if not control.infoLabel('Container.PluginName') == 'plugin.video.thecrew': return
            page_data = client.request(url)
            white = re.findall('(?s)<iframe.*?src="([^"]*)', page_data)[0]
            hat = requests.get(white).text
            items = re.findall('=\\s*(\\[[^;]+)', hat)[0]
            items = re.findall('"(.+?)"', items)
            subitem = int(re.findall('atob.+?-\\s*(\\d+)', hat)[0])
            srp = ''
            for item in items:
                srp += chr(int(re.sub(r'[^\\d]', '', base64.b64decode(item).decode('utf-8'))) - subitem)
            link = re.findall("source: '([^']*)", srp)[0]
            return link + '|User-Agent=ipad&Referer=' + url
        except:
            return

    def elixx(self, url):
        try:
            if not control.infoLabel('Container.PluginName') == 'plugin.video.thecrew': return
            page_data = client.request(url)
            w = re.findall('(?s)iframe-wrapper">\s*<iframe src="([^"]*)',page_data)[0]
            h = 'http://elixx.xyz' + w
            i = requests.get(h).text
            t = re.findall('<iframe src="([^"]*)',i)[0]
            white = 'https:' + t
            e = requests.get(white, headers={'User-Agent':'iPad','Referer':t}).text
            z = re.findall('(?s)<iframe.*?src="([^"]*)',e)[0]
            hat = 'https:' + z
            pink = requests.get(hat, headers={'User-Agent':'iPad','Referer':t}).text
            find = re.findall('eval\(function(.+?m3u8.+)', pink)[0]
            the = jsunpack.unpack(find)
            crew= re.findall('src=\s*"([^"]*)',the)[0]
            return crew + '|User-Agent=iPad&Referer=' + h
        except:
            return

    def worldstreams(self, url):
        try:
            if not control.infoLabel('Container.PluginName') == 'plugin.video.thecrew': return
            page_data = client.request(url)
            w = re.findall('<iframe.*?src="([^"]*)',page_data)[0]
            h = requests.get(w).text
            i = re.findall('<iframe src="([^"]*)',h)[0]
            e = requests.get(i, headers={'User-Agent':'iPad','Referer':i}).text
            crew = re.findall('(?:source|src|file):\s*[\'"]([^\'"]+)', e)[0]
            #hat = re.findall('eval\(function(.+?m3u8.+)', e)[0]
            #the = jsunpack.unpack(hat)
            #crew= re.findall('source\s*:\s*"([^"]*)',the)[0]
            return crew + '|User-Agent=ipad&Referer=' + i
        except:
            return

    def nflup(self, url):
        try:
            if not control.infoLabel('Container.PluginName') == 'plugin.video.thecrew': return
            page_data = client.request(url)
            r = re.findall('var chunks_link = \'([^\']*)', page_data)[0]
            s = re.findall('var channelName = "([^"]*)', page_data)[0]
            return r + s + '_playlist.m3u8'
        except:
            return

    def nflsportz(self, url):
        try:
            if not control.infoLabel('Container.PluginName') == 'plugin.video.thecrew': return
            page_data = client.request(url)
            #r = re.findall('atob\(["|\']([^"|\']*)', page_data)[0]
            #r = base64.b64decode(r).decode('utf-8')
            #return r + '|User-Agent=Mozilla/5.0&Referer=' + url
            src = re.findall('iframe.*?src="([^"]*)', page_data)[0]
            src = 'http:' + src if src.startswith('//') else src
            fu = requests.get(src, headers={'User-Agent':'iPad','Referer':url}).text
            hat = re.findall('eval\(function(.+?m3u8.+)', fu)[0]
            the = jsunpack.unpack(hat)
            crew= re.findall('var\s*src="([^"]*)',the)[0]
            return crew + '|User-Agent=Mozilla/5.0&Referer=' + url
        except:
            return

    def blacktienba(self, url):
        try:
            if not control.infoLabel('Container.PluginName') == 'plugin.video.thecrew': return
            page_data = client.request(url)
            if 'm3u8' in page_data:
                link = re.findall('(?:source|src|file):\s*[\'"]([^\'"]+)', page_data)[0]
                return link + '|User-Agent=Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.88 Safari/537.36&Origin=http://blacktiesports.net&Referer=' + url                  
            elif 'php' in page_data:
                r = re.findall('(?s)<iframe id="stream.*?src="([^"]*)', page_data)[0]
                u = client.request(r)
                items = re.findall('<script>var.*?=\s*(\[[^;]+)', u)[0]
                items = re.findall('"(.+?)"', items)
                subitem = int(re.findall('\(atob.+?-\s*(\d+)', u)[0])
                srp = ''
                for item in items:
                    srp += chr(int(re.sub(r'[^\d]', '', base64.b64decode(item).decode('utf-8'))) - subitem)
                #link = re.findall('(?:source|src|file):\s*[\'"]([^\'"]+)', srp)[0]
                link = re.findall('atob\(\'([^\']*)', srp)[0]
                link = link.replace(' ','')
                link = base64.b64decode(link).decode('utf-8')
                return link + '|User-Agent=Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.88 Safari/537.36&Origin=http://blacktiesports.net&Referer=' + r
            else:
                items = re.findall('<script>var.*?=\s*(\[[^;]+)', page_data)[0]
                items = re.findall('"(.+?)"', items)
                subitem = int(re.findall('\(atob.+?-\s*(\d+)', page_data)[0])
                srp = ''
                for item in items:
                    srp += chr(int(re.sub(r'[^\d]', '', base64.b64decode(item).decode('utf-8'))) - subitem)
                link = re.findall('(?:source|src|file):\s*[\'"]([^\'"]+)', srp)[0]
                link = link.replace(' ','')
                return link + '|User-Agent=Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.88 Safari/537.36&Origin=http://blacktiesports.net&Referer=' + url
        except:
            return

    def ufckhabib(self, url):
        try:
            if not control.infoLabel('Container.PluginName') == 'plugin.video.thecrew': return
            page_data = client.request(url)
            t = re.findall('(?s)iframe f.*?src="([^"]*)', page_data)[0]
            fu = requests.get(t).text
            w = re.findall('atob\(\'([^\']*)', fu)[0]
            s = base64.b64decode(w).decode('utf-8')
            return s + '|User-Agent=ipad&Referer=' + t
        except:
            return

    def ovostreams(self, url):
        try:
            if not control.infoLabel('Container.PluginName') == 'plugin.video.thecrew': return
            page_data = client.request(url)
            hat = re.findall('(?s)player-box">\s*<iframe.*?src="([^"]*)',page_data)[0]
            h = requests.get(hat, headers={'User-Agent':'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Safari/537.36','Referer':'https://sportstvnow.org/'}).text
            s = re.findall('source = "([^"]*)',h)[0]
            return s + '|User-Agent=Mozilla/5.0&Referer=' + hat
        except:
            return

    def techno(self, url):
        try:
            if not control.infoLabel('Container.PluginName') == 'plugin.video.thecrew': return
            page_data = client.request(url)
            w = re.findall('iframe\ssrc="([^"]*)', page_data)[0]
            h = client.request(w)
            i = re.findall('source:.*?\'.*?\'.*?\'([^\']*)', h)[0]
            return 'https://reels2watch.com/hls/' + i + '|Referer=' + url
        except:
            return

    def pawastreams(self, url):
        try:
            if not control.infoLabel('Container.PluginName') == 'plugin.video.thecrew': return
            page_data = client.request(url)
            s =  re.findall('(?s)"><iframe.*?src="([^"]*)', page_data)[0] 
            r = client.request(s, headers={"Referer": url, "User-Agent": 'Mozilla/5.0'})
            x = re.findall('atob\(\'([^\']*)', r)[0]
            t = base64.b64decode(x).decode('utf-8')
            return t + '|User-Agent=ipad&Referer=' + s
        except:
            return

    def supertipz(self, url):
        try:
            if not control.infoLabel('Container.PluginName') == 'plugin.video.thecrew': return
            page_data = client.request(url)
            #src = re.findall('<iframe src="([^"]*)', page_data)[0]
            #src = 'http:' + src if src.startswith('//') else src
            #fu = requests.get(src, headers={'User-Agent':'iPad','Referer':url}).text
            #hat = re.findall('eval\(function(.+?m3u8.+)', fu)[0]
            #the = jsunpack.unpack(hat)
            #crew= re.findall('var\s*src="([^"]*)',the)[0]
            #return crew + '|User-Agent=ipad&Referer=' + url
            w = re.findall('(?:source|src|file):\s*[\'"]([^\'"]+)', page_data)[0]
            return w + '|User-Agent=Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36&Referer=' + url
        except:
            return

    def dubsstreamz(self, url):
        try:
            if not control.infoLabel('Container.PluginName') == 'plugin.video.thecrew': return
            page_data = client.request(url)
            if 'm3u8' in page_data:
                t = re.findall('var source = \'([^\']*)', page_data)[0]
                return t + '|User-Agent=iPad&Referer=' + url
            else :
                r = re.findall('<iframe.*?src="([^"]*)', page_data)[0]
                u = client.request(r, headers={'User-Agent':'iPad','Referer':'http://www.dubsstreamz.com'})
                x = re.findall('atob\(\'([^\']*)', u)[0]
                t = base64.b64decode(x).decode('utf-8')
                return t + '|User-Agent=iPad&Referer=' + r
        except:
            return

    def summerlivestream(self, url):
        try:
            if not control.infoLabel('Container.PluginName') == 'plugin.video.thecrew': return
            page_data = client.request(url)
            r = re.findall('<iframe.*?src="([^"]*)', page_data)[0]
            murl=(r);now=int((int(time.time()) + 86400) * 1000)
            source=requests.get(murl,headers={'User-Agent':'Mozilla/5.0','Referer':'https://sportsbay.org/','accept':'*/*'}).text
            if 'm3u8' in source:
                strurl = re.findall('Clappr.Player[\w\W]*?(?:source|src|file)(?:\s*|):(?:\s*|)[\'"]([^\'"]+)',source)[0]+'|User-Agent=ipad&Origin=https://freefeds.com&Referer=https://freefeds.com/'
                return strurl
            else :     
                teleID=re.findall('embed/(\d+)\.',source)[0]
                r=requests.get('https://teleriumtv.com/streams/%s/%s.json'%(teleID,now),headers={'User-Agent':'Mozilla/5.0','Referer':'https://teleriumtv.com/embed/%s.html'%teleID,'accept':'*/*'},cookies={'volume':'0'}).json()
                strurl=r.get('url');netloc='https://teleriumtv.com'
                headers={'User-Agent': 'Mozilla/5.0','Origin':netloc,'Referer':'https://teleriumtv.com/embed/%s.html'%teleID}
                if r.get('tokenurl'):
                    strurl += requests.get(netloc+r.get('tokenurl'),headers=headers).json()[10][::-1]
                strurl=strurl if strurl.startswith('http') else 'https:'+strurl
                return strurl+'|{0}'.format(urlencode(headers))
        except:
            return

    def crazystreams(self, url):
        try:
            if not control.infoLabel('Container.PluginName') == 'plugin.video.thecrew': return
            page_data = client.request(url)
            r = re.findall('(?s)<iframe allow=.*?src=\'([^\']*)',page_data)[0]
            q = client.request(r)
            w = re.findall('url:\s*"([^"]*)', q)[0]
            h = re.findall('data:\s\{"([^"]*)', q)[0]
            i = re.findall('var vidgstream = "([^"]*)', q)[0]
            t = re.findall('gethlsUrl\(vidgstream,\s([^,]*)', q)[0]
            e = re.findall('gethlsUrl\(vidgstream,(?:[^,]*),\s([^\)]*)', q)[0]
            hat = w + '?' + h + '=' + i + '&serverid=' + t + '&cid=' + e
            the = client.request(hat)
            crew = re.findall('{"rawUrl":"([^"]*)', the)[0]
            made = crew.replace('\\', '')
            return made + '|Referer=' + url
        except:
            return

    def sportsnest(self, url):
        try:
            if not control.infoLabel('Container.PluginName') == 'plugin.video.thecrew': return
            page_data = client.request(url)
            r = re.findall('(?:source|src|file):\s*[\'"]([^\'"]+)', page_data)[0]
            return r + '|User-Agent=Mozilla%2F5.0%20(Macintosh%3B%20Intel%20Mac%20OS%20X%2010.14%3B%20rv%3A99.0)%20Gecko%2F20100101%20Firefox%2F99.0&Referer=' + url
        except:
            return

    #def tvsportslive(self, url):
    #    try:
    #        if not control.infoLabel('Container.PluginName') == 'plugin.video.thecrew': return
    #        page_data = client.request(url)
    #        s =  re.findall(r'src="([^"]+\.php\?[^"]*)', page_data)[0]
    #        response = requests.get(s).text
    #        fid = re.findall(r'fid\s*=\s*"([^"]+)"', response)[0]
    #        w =  re.findall(r'src="([^"]+\.php\?[^"]*)', response)[0]
    #        t = requests.get(w).text
    #        doamin = re.findall(r'https?://[a-zA-Z0-9.-]+\.(?:com|net|org|xyz|info|tv|cc|co)', t)
    #        x = "{doamin}/maestrohd1.php?player=mobile&live={fid}"
    #        r = requests.get(x).text
    #        m3u8 = re.findall(r"atob\(['\"]([^'\"]+)['\"]\)", r); m3u8 = base64.b64decode(m3u8).decode('utf-8')
    #        return m3u8 + '|Referer={doamin}/&Origin={doamin}&Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36'
    #    except:
    #        return

    def epicmartial(self, url):
        try:
            if not control.infoLabel('Container.PluginName') == 'plugin.video.thecrew': return
            headers = {
                "Referer": "https://castweb.xyz",
                "User-Agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36"
            }
            page_data = requests.get(url, headers=headers).text
            fid = re.findall(r'fid\s*=\s*"([^"]+)"', page_data)[0]
            x = 'https://processbigger.com/maestrohd1.php?player=mobile&live=' + fid
            r = requests.get(x, headers=headers).text
            match = re.search(r'return\(\[([^\]]+)\]\.join\(""\)', r)
            array_content = match.group(1)
            chars = re.findall(r'"([^"]+)"', array_content)
            joined = ''.join(chars).replace(r'\/', '/')
            joined = joined.replace('https://///', 'https://').replace('https:////', 'https://').replace('https:///', 'https://')
            return joined + '|Referer=https://processbigger.com/&Origin=https://processbigger.com&User-Agent=Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36'
        except:
            return

    def sportsio(self, url):
        try:
            if not control.infoLabel('Container.PluginName') == 'plugin.video.thecrew': return
            page_data = client.request(url)
            r1 = re.findall('(?s)<iframe src="([^"]*)',page_data)[0]
            u2 = requests.get(r1).text
            result = re.findall('(?:source|src|file):\s*[\'"]([^\'"]+)', u2)[0]
            return result + '|User-Agent=iPad&Referer=' + r1
        except:
            return

    def silverspoon(self, url):
        try:
            if not control.infoLabel('Container.PluginName') == 'plugin.video.thecrew': return
            page_data = client.request(url)
            w = re.findall('(?:source|src|file):\s*[\'"]([^\'"]+)', page_data)[0]
            return w + '|User-Agent=Mozilla/5.0&Referer=' + url
        except:
            return

    def volokit(self, url):
        try:
            if not control.infoLabel('Container.PluginName') == 'plugin.video.thecrew': return
            page_data = client.request(url)
            w = re.findall('(?s)iframe allow=\'encrypted-media.*?src=\'([^\']*)', page_data)[0]
            h = client.request(w)
            i = re.findall('source: [\'"]([^\'"]+)', h)[0]
            return i + '|User-Agent=Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36&Referer=http://volokit2.com/&Origin=http://volokit2.com'
        except:
            return

    def hitstreams(self, url):
        try:
            if not control.infoLabel('Container.PluginName') == 'plugin.video.thecrew': return
            page_data = client.request(url)
            if 'weakstream' in page_data:
                s = re.findall('(?s)iframe frameborder.*?src="([^"]*)', page_data)[0]
                p = client.request(s)
                w = re.findall('url:\s*"([^"]*)', p)[0]
                h = re.findall('data:\s\{"([^"]*)', p)[0]
                i = re.findall('var vidgstream = "([^"]*)', p)[0]
                hat = w + '?' + h + '=' + i
                the = client.request(hat)
                crew = re.findall('{"rawUrl":"([^"]*)', the)[0]
                made = crew.replace('\\', '')
                return made + '|User-Agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:107.0) Gecko/20100101 Firefox/107.0&Referer=https%3A%2F%2Fweakstream.org%2F'
            else:
                r = re.findall('fid="([^"]*)', page_data)[0]
                s = 'https://switchcast2.com/embed.php?player=desktop&live=' + r
                t = requests.get(s, headers={'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:107.0) Gecko/20100101 Firefox/107.0', "Referer": url}).text
                w = ("".join(eval(re.findall(r"return\((\[.+?\])", t)[0]))).replace("\\", "")
                return w + '|User-Agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:107.0) Gecko/20100101 Firefox/107.0&Referer=' + s 
        except:  
            return

    def soccerstreams(self, url):
        try:
            if not control.infoLabel('Container.PluginName') == 'plugin.video.thecrew': return
            page_data = client.request(url)
            r = re.findall('(?s)iframe.*?src="([^"]*)', page_data)[0]
            t = requests.get(r).text
            x = re.findall('(?:source|src|file):\s*[\'"]([^\'"]+)', t)[0]
            return x + '|User-Agent=Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.132 Safari/537.36&Referer=https://fordems.biz/'
        except:
            return

    def basketballvideo(self, url):
        try:
            if not control.infoLabel('Container.PluginName') == 'plugin.video.thecrew': return
            page_data = client.request(url)
            x = re.findall('(?s)style-default" href="([^"]*)', page_data)[0]
            f = client.request(x)
            s = re.findall('(?s)<iframe.*?src="([^"]*)', f)[0]
            return s
        except:
            return

    def nflvideo(self, url):
        try:
            if not control.infoLabel('Container.PluginName') == 'plugin.video.thecrew': return
            page_data = client.request(url)
            x = re.findall('(?s)Full Game Replay.*?<iframe.*?src="([^"]*)', page_data)[0]
            return x
        except:
            return

    def sportsstreamsite(self, url):
        try:
            if not control.infoLabel('Container.PluginName') == 'plugin.video.thecrew': return
            page_data = client.request(url)
            r = re.findall('iframe sc.*?src="([^"]*)', page_data)[0]
            q = requests.get(r).text
            w = re.findall('iframe\s*.*?src="([^"]*)', q)[0]
            s = 'https://www.sports-stream.site' + w
            e = requests.get(s).text
            u = re.findall('iframe src="([^"]*)', e)[0]
            t = requests.get(u, headers={'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:107.0) Gecko/20100101 Firefox/107.0', "Referer": u}).text
            w = ("".join(eval(re.findall(r"return\((\[.+?\])", t)[0]))).replace("\\", "")
            return w + '|User-Agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:107.0) Gecko/20100101 Firefox/107.0&Referer=' + u
        except:
            return
                
    def sportsupa(self, url):
        try:
            if not control.infoLabel('Container.PluginName') == 'plugin.video.thecrew': return
            page_data = client.request(url)
            r = re.findall('(?s)<iframe.*?src="([^"]*)',page_data)[0]
            s = client.request(r)
            w = re.findall('(?:source|src|file):\s*[\'"]([^\'"]+)', s)[0]
            return w + '|User-Agent=Mozilla%2F5.0%20(Macintosh%3B%20Intel%20Mac%20OS%20X%2010.15%3B%20rv%3A120.0)%20Gecko%2F20100101%20Firefox%2F120.0&Referer=https%3A%2F%2Fnflscoop.xyz%2F'
        except:
            return

    def naughtyblog(self, url):
        try:           
            u = client.request(url)
            u = u.split('<strong>Download:', 1)[-1]; u = u.split('<strong>Watch online:', 1)[0]
            r = re.findall('(?s)<a h(?:[^=]*)=(?:[^=]*)="([^"]*)(?:[^>]*)>([^<]*)', u)
            hosts = ['Rapidgator','Uploaded']; e =[]
            for i in r:
                if any(x for x in hosts if x in i[0]): e.append((i[0].replace('Direct Link',''),i[1]))
            return e
        except:
            return

    def fsportshd(self, url):
        try:
            UA = 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36'
            headers = {
                "Referer": "https://fsportshd.xyz/",
                "User-Agent": UA,
            }
            page_data = requests.get(url, headers=headers).text
            m = re.search(r'fid\s*=\s*"([^"]+)"', page_data)
            if not m:
                return
            fid = m.group(1)
            api_url = 'https://stellarthread.com/footy.php?player=mobile&live=' + fid
            r = requests.get(api_url, headers=headers).text
            m = re.search(r'return\(\[([^\]]+)\]\.join\(""\)', r)
            if not m:
                return
            array_content = m.group(1)
            chars = re.findall(r'"([^"]+)"', array_content)
            if not chars:
                return
            joined = ''.join(chars).replace(r'\/', '/')
            for _ in range(3):
                joined = joined.replace('https://///', 'https://')
                joined = joined.replace('https:////', 'https://')
                joined = joined.replace('https:///', 'https://')
            final_url = joined
            return (
                final_url
                + '|Referer=https://stellarthread.com/'
                + '&Origin=https://stellarthread.com'
                + '&User-Agent=' + UA
            )
        except Exception:
            return

    def meth(self, url):
        try:
            page_data = client.request(url)
            m = re.search(r'const allStreams.*?ue":"([^"]+)', page_data, re.S)
            json_url = m.group(1).replace('\\', '')
            json_data = requests.get(json_url).text
            m = re.search(r"fetch\('([^']+)", json_data)
            fetch_path = m.group(1)
            api_url = 'https://sharkstreams.net/' + fetch_path
            api_data = requests.get(api_url).text
            m = re.search(r'\["([^"]+)', api_data)
            final_url = m.group(1).replace('\\', '')
            UA = (
                "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) "
                "AppleWebKit/537.36 (KHTML, like Gecko) "
                "Chrome/140.0.0.0 Safari/537.36"
            )
            refer = api_url + '/'
            origin = api_url.split('/', 3)[:3]
            origin = '/'.join(origin)
            return f"{final_url}|User-Agent={UA}&Refer={refer}&Origin={origin}"
        except Exception:
            return

    def roxie(self, url):
        try:
            page_data = client.request(url)
            m3u8_list = re.findall(r'https?://[^\s\'"]+\.m3u8', page_data, re.DOTALL)
            if not m3u8_list:
                return
            if len(m3u8_list) == 1:
                stream_url = m3u8_list[0]
            else:
                labels = [f'Stream {i+1}' for i in range(len(m3u8_list))]
                choice = xbmcgui.Dialog().select('Select Stream', labels)
                if choice == -1:
                    return
                stream_url = m3u8_list[choice]
            ua = 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36'
            u = urlparse(url)
            origin = f'{u.scheme}://{u.netloc}'
            return (
                stream_url
                + '|User-Agent=' + ua +
                '&Refer=' + url +
                '&Origin=' + origin
            )
        except:
            return
